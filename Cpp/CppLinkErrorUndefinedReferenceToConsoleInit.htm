<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <title>link error: undefined reference to 'consoleInit'</title>
  <meta name="description" content="C++ link error: undefined reference to 'consoleInit'"/>
  <meta name="keywords" content="C++ link error: undefined reference to 'consoleInit' code snippet"/>
  <link rel="stylesheet" href="Richelbilderbeek.css" type="text/css"/>
</head>
<!-- End of head, start of body -->
<body>
<p><a href="index.htm">Go back to Richel Bilderbeek's homepage</a>.</p>
<p><a href="Cpp.htm">Go back to Richel Bilderbeek's C++ page</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<!-- Page header -->
<h1>(<a href="Cpp.htm">C++</a>) <a href="CppLinkErrorUndefinedReferenceToConsoleInit.htm">Undefined reference to 'consoleInit'</a></h1>
<p>&nbsp;</p>
<p><a href="CppLinkError.htm">Link error</a>.</p>
<p>&nbsp;</p>
<p>Operating system(s):</p>
<ul>
  <li><img src="PicNds.png" alt="NDS"/> Nintendo DS</li>
  <li><img src="PicUbuntu.png" alt="Ubuntu"/> Ubuntu 10.04 LTS Lucid Lynx</li>
<!--  <li><img src="PicWindows.png" alt="Windows"/> Windows XP</li> -->
</ul>
<p><a href="CppIde.htm">IDE(s)</a>:</p>
<ul>
  <li><img src="PicCl.png" alt="Command line"/> command line</li>
<!--  <li><img src="PicCppBuilder.png" alt="C++ Builder"/> <a href="CppBuilder.htm">C++ Builder</a> 6.0 Enterprise edition</li> -->
  <li><img src="PicQtCreator.png" alt="Qt Creator"/> <a href="CppQtCreator.htm">Qt Creator</a> 2.0.0 </li>
</ul>
<p><a href="CppQtProjectType.htm">Project type</a>:</p>
<ul>
  <li><img src="PicConsole.png" alt="console"/> Console application</li>
<!--  <li><img src="PicGui.png" alt="GUI"/> <a href="CppGui.htm">GUI</a> application</li> -->
</ul>
<p><a href="CppCompiler.htm">Compiler(s)</a>:</p>
<ul>
  <li><a href="CppGpp.htm">G++</a> 4.4.1</li>
</ul>
<p><a href="CppLibrary.htm">Libraries</a> used:</p>
<ul>
<!--  <li><img src="PicBigInt.png" alt="BigInt"/> <a href="CppBigInt.htm">BigInteger</a>: version 2010.04.30</li> -->
<!--  <li><img src="PicBoost.png" alt="Boost"/> <a href="CppBoost.htm">Boost</a>: version 1.40</li> -->
<!--  <li><img src="PicCln.png" alt="CLN"/> <a href="CppCln.htm">CLN</a>: version 1.3.1</li> -->
  <li><img src="PicLibnds.png" alt="Libnds"/> <a href="CppLibnds.htm">Libnds</a>: version 1.4.7</li>
<!--  <li><img src="PicQt.png" alt="Qt"/> <a href="CppQt.htm">Qt</a>: version 4.7.0 (32 bit)</li> -->
<!--  <li><img src="PicStl.png" alt="STL"/> <a href="CppStl.htm">STL</a>: from <a href="CppGcc.htm">GCC</a>, shipped with <a href="CppQt.htm">Qt Creator</a> 2.0.0</li> -->
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><a href="CppQtProjectFile.htm">Project file</a></h2>
<p>&nbsp;</p>
<!-- start of code -->
<table border = "1"><tr><td><code>
#-------------------------------------------------<br/>
#<br/>
# Project created by QtCreator 2010-10-07T22:25:11<br/>
#<br/>
#-------------------------------------------------<br/>
INCLUDEPATH += /opt/devkitpro/libnds-1.4.7/include<br/>
INCLUDEPATH += /opt/devkitpro/devkitARM/arm-eabi/include<br/>
DEFINES += ARM9<br/>
TARGET = CppDsExample1<br/>
CONFIG&nbsp;&nbsp; += console<br/>
CONFIG&nbsp;&nbsp; -= app_bundle<br/>
TEMPLATE = app<br/>
SOURCES += main.cpp<br/>
OTHER_FILES += \<br/>
&nbsp;&nbsp;&nbsp;&nbsp;makefile_supplied.txt<br/>
</code></td></tr></table>
<!-- end of the code -->
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>main.cpp</h2>
<p>&nbsp;</p>
<!-- start of code -->
<table border = "1"><tr><td><code>
<a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><br/>
<a href="CppComment.htm">//</a> Demo1 ARM9 Code <a href="CppOperatorMinus.htm">-</a> Based on an example shipped with NDSLIB.<br/>
<a href="CppComment.htm">//</a> Chris <a href="CppDouble.htm">Double</a> (chris.<b><a href="CppDouble.htm">double</a></b>@<b><a href="CppDouble.htm">double</a></b>.co.nz)<br/>
<a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><a href="CppComment.htm">//</a><br/>
<br/>
<a href="CppComment.htm">//</a>From http://<b><a href="CppDouble.htm">double</a></b>.co.nz/nintendo_ds/nds_develop1.html<br/>
<a href="CppInclude.htm">#include</a> &lt;nds.h&gt;<br/>
<a href="CppInclude.htm">#include</a> &lt;nds/<b><a href="CppRegister.htm">register</a></b>s_alt.h&gt;<br/>
<a href="CppInclude.htm">#include</a> &lt;nds/arm9/console.h&gt;<br/>
<a href="CppInclude.htm">#include</a> &lt;<a href="CppStdioH.htm">stdio.h</a>&gt;<br/>
<br/>
<b><a href="CppInt.htm">int</a></b> <a href="CppMain.htm">main</a>(<b><a href="CppVoid.htm">void</a></b>)<br/>
{<br/>
&nbsp;&nbsp;<a href="CppComment.htm">//</a> Use the touch screen <b><a href="CppFor.htm">for</a></b> output<br/>
&nbsp;&nbsp;videoSetMode(0);<br/>
&nbsp;&nbsp;videoSetModeSub(MODE_0_2D | DISPLAY_BG0_ACTIVE);<br/>
&nbsp;&nbsp;vramSetBankC(VRAM_C_SUB_BG);<br/>
&nbsp;&nbsp;SUB_BG0_CR <a href="CppOperatorAssign.htm">=</a> BG_MAP_BASE(31);<br/>
<br/>
&nbsp;&nbsp;<a href="CppComment.htm">//</a> Set the colour of the font to White.<br/>
&nbsp;&nbsp;BG_PALETTE_SUB[255] <a href="CppOperatorAssign.htm">=</a> RGB15(31,31,31);<br/>
<br/>
&nbsp;&nbsp;consoleInit(0,1, BgType_Text4bpp, BgSize_T_256x256, 0, 6, <b><a href="CppFalse.htm">false</a></b>, <b><a href="CppTrue.htm">true</a></b>);<br/>
&nbsp;&nbsp;<a href="CppComment.htm">/*</a><br/>
&nbsp;&nbsp;consoleInit(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;consoleGetDefault(),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(u16*)SCREEN_BASE_BLOCK_SUB(31),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(u16*)CHAR_BASE_BLOCK_SUB(0),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;16);<br/>
&nbsp;&nbsp;<a href="CppComment.htm">*/</a><br/>
<br/>
&nbsp;&nbsp;printf("\n\n\tHello World!\n");<br/>
&nbsp;&nbsp;<b><a href="CppWhile.htm">while</a></b>(1) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;touchPosition touchXY <a href="CppOperatorAssign.htm">=</a> touchReadXY();<br/>
&nbsp;&nbsp;&nbsp;&nbsp;printf("\x1b[10;0H");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;printf("Touch x <a href="CppOperatorAssign.htm">=</a> <a href="CppOperatorModulus.htm">%</a>d&nbsp;&nbsp; \n", touchXY.px);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;printf("Touch y <a href="CppOperatorAssign.htm">=</a> <a href="CppOperatorModulus.htm">%</a>d&nbsp;&nbsp; \n", touchXY.py);<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<b><a href="CppReturn.htm">return</a></b> 0;<br/>
}<br/>
</code></td></tr></table>
<!-- end of the code -->
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>Partial solution</h2>
<p>&nbsp;</p>
<p>Add the following line to your <a href="CppQtProjectFile.htm">project file</a>:</p>
<p>&nbsp;</p>
<!-- start of code -->
<table border = "1"><tr><td><code>
LIBS += -L/opt/devkitpro/libnds-1.4.7/lib -lnds9<br/>
</code></td></tr></table>
<!-- end of the code -->
<p>&nbsp;</p>
<p>The linked file, however, '/opt/devkitpro/libnds-1.4.7/lib/libnds9.a' is incompatible.</p>

Change the linker to '/opt/devkitpro/devkitARM/bin/arm-eabi-ld'

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><a href="Cpp.htm">Go back to Richel Bilderbeek's C++ page</a>.</p>
<p><a href="index.htm">Go back to Richel Bilderbeek's homepage</a>.</p>
<p>&nbsp;</p>
<p><a href="http://validator.w3.org/check?uri=referer"><img src="valid-xhtml10.png" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a></p>
</body>
</html>
